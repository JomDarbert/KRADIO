(function(){var e,t,r,n,a,i,l,u,o,s,c,f,g,p,v,d,h,m,k,w,F,_=[].indexOf||function(e){for(var t=0,r=this.length;r>t;t++)if(t in this&&this[t]===e)return t;return-1};for(a="2721807f620a4047d473472d46865f14",SC.initialize({client_id:a}),v=["kpop","k pop","k-pop","korean","korea","kor","kor pop","korean pop","korean-pop","kor-pop","korean version","kr","kr ver","original"],t=["cover","acoustic","instrumental","remix","mix","re mix","re-mix","version","ver.","live","live cover","accapella","cvr","united states","america","india","indian","japan","china","chinese","japanese","viet","vietnam","vietnamese","thai","taiwan","taiwanese","russian","ambient","meditat"],c=/[^A-Za-z0-9\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uAC00-\uD7AF\uD7B0-\uD7FF \♡\.\「\」\”\“\’\∞\♥\|\【\】\–\{\}\[\]\!\@\#\$\%\^\&\*\(\)\-\_\=\+\;\:\'\"\,\.\<\>\/\\\?\`\~]/g,o=/[\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uAC00-\uD7AF\uD7B0-\uD7FF]/g,l=function(){var e;return e=null,$.ajax({async:!1,global:!1,url:"../scrape/EYK/tutorial/eyk.json",dataType:"json",success:function(t){e=t}}),e}(),s=function(){var e;return e=null,$.ajax({async:!1,global:!1,url:"../scrape/MWAVE/tutorial/mwave.json",dataType:"json",success:function(t){e=t}}),e}(),e=function(e){var t,r,n;for(t=e.concat(),r=0;r<t.length;){for(n=r+1;n<t.length;)t[r]===t[n]&&t.splice(n--,1),++n;++r}return t},p=[],d=0,k=l.length;k>d;d++)g=l[d],p.push(g.title);for(h=0,w=s.length;w>h;h++)g=s[h],p.push(g.artist+" "+g.title);for(p=e(p),console.log(p),r=function(e){var r,n,a,i,l,u,o,s,f,g,p;if(null==e.title)return!1;if(null==e.url)return!1;if(null==e.created)return!1;if(i=12,r=moment(e.created,"YYYY-MM-DD HH:MM:SS"),n=moment().subtract(i,"months"),n.diff(r,"months")>0)return!1;for(u=0,s=t.length;s>u;u++)if(l=t[u],-1!==e.title.indexOf(l))return!1;for(o=0,f=t.length;f>o;o++)if(l=t[o],null!=e.genre&&-1!==e.genre.indexOf(l))return!1;for(p=0,g=t.length;g>p;p++)if(l=t[p],_.call(e.tags,l)>=0)return!1;return a=c.test(e.title),a===!0?!1:!0},n=function(e,t){var r,n,a,i,l,u,s,c,f,g,p,d,h,m;for(s=0,f=0,l=0,a=e.title.replace(/[^A-Za-z0-9\s]+/g,"").replace(/\s+/g," ").toLowerCase().trim(),n=t.replace(/[^A-Za-z0-9\s]+/g,"").replace(/\s+/g," ").toLowerCase().trim(),m=e.genre,_.call(v,m)>=0&&(s+=1),d=0,h=v.length;h>d;d++)g=v[d],_.call(e.tags,g)>=0&&(f+=1);return f>0&&(s+=1),p=o.test(e.title),p===!0&&(s+=1),c=a.split(" "),i=n.split(" "),r=[c,i],u=r.shift().reduce(function(e,t){return-1===e.indexOf(t)&&r.every(function(e){return-1!==e.indexOf(t)})&&e.push(t),e},[]),u.length===i.length&&(s+=1),levenstein(n,a)<=10&&(s+=1),s},u=function(e){var t;return t=$.Deferred(),SC.get("/tracks",{q:e,limit:200},function(a){var i;i=[],a.forEach(function(t){var a,l,u,o,s,c,f,p,v;return null!=t.title&&(f=t.title.toLowerCase()),null!=t.genre&&(s=t.genre.toLowerCase()),null!=t.tag_list&&(c=t.tag_list.toLowerCase().split(" ")),null!=t.created_at&&(u=t.created_at),null!=t.stream_url&&(p=t.stream_url),null!=t.artwork_url&&(a=t.artwork_url.replace("-large","-t500x500")),null!=t.playback_count&&(v=t.playback_count),null!=t.duration&&(o=t.duration/1e3),g={title:f,genre:s,tags:c,created:u,url:p,artwork:a,duration:o,views:v,score:0,query:e},l=r(g),g.score=n(g,e),l===!0&&g.score>=2?i.push(g):void 0}),i.sort(function(e,t){var r;return r=t.score-e.score,0!==r?r:t.views-e.views}),i.length>0?t.resolve(i[0]):t.resolve(!1)}),t.promise()},i=0,SC.initialize({client_id:a}),m=0,F=p.length;F>m;m++)f=p[m],u(f).done(function(e){return e!==!1&&(i+=1),console.log(i)})}).call(this);