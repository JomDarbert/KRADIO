var client_id,currently_playing,exclude_tags,hangul,playRandom,priority_tags,top_queries,__indexOf=[].indexOf||function(item){for(var i=0,l=this.length;l>i;i++)if(i in this&&this[i]===item)return i;return-1};client_id="2721807f620a4047d473472d46865f14",SC.initialize({client_id:client_id}),priority_tags=["kpop","k pop","k-pop","korean","korea"],exclude_tags=["cover","acoustic","instrumental","remix","mix","re mix","re-mix","version","ver.","cvr"],hangul=new RegExp("[ᄀ-ᇿ|㄰-㆏|ꥠ-꥿|가-힯|ힰ-퟿]"),top_queries=["Younha Wasted","Madtown YOLO","VIXX Error","BTOB You're so fly","PSY Hangover","Boyfriend Witch","Raina You End And Me","Song Ji Eun Don't look at me like that","Ailee Don't touch me"],currently_playing=null,playRandom=function(){for(var selected_song;;)if(selected_song=top_queries[Math.floor(Math.random()*top_queries.length)],selected_song!==currently_playing)break;currently_playing=selected_song,SC.get("/tracks",{q:selected_song},function(tracks){var add_criteria,approved_songs,artwork,blacklisted,genre,priority_songs,song,stream_url,tag,tag_list,tags,term,title,track,untagged_songs,_i,_j,_k,_l,_len,_len1,_len2,_len3,_len4,_len5,_m,_n;if(null!=tracks&&0===tracks.length)playRandom();else{for(priority_songs=[],untagged_songs=[],approved_songs=[],_i=0,_len=tracks.length;_len>_i;_i++){for(song=tracks[_i],blacklisted=0,genre=null==song.genre?"":song.genre.toLowerCase(),title=null==song.title?"":song.title.toLowerCase(),null==song.tag_list?tags=[]:tag_list=song.tag_list.toLowerCase().split(" "),_j=0,_len1=exclude_tags.length;_len1>_j;_j++)term=exclude_tags[_j],-1!==title.indexOf(term)&&(blacklisted+=1);for(_k=0,_len2=exclude_tags.length;_len2>_k;_k++)for(term=exclude_tags[_k],_l=0,_len3=tag_list.length;_len3>_l;_l++)tag=tag_list[_l],-1!==tag.indexOf(term)&&(blacklisted+=1);0===blacklisted&&approved_songs.push(song)}for(_m=0,_len4=approved_songs.length;_len4>_m;_m++){if(song=approved_songs[_m],genre=null==song.genre?"":song.genre.toLowerCase(),title=null==song.title?"":song.title.toLowerCase(),null==song.tag_list?tags=[]:tag_list=song.tag_list.toLowerCase().split(" "),add_criteria=0,__indexOf.call(priority_tags,genre)>=0&&(add_criteria+=1),tag_list.length>0)for(_n=0,_len5=tag_list.length;_len5>_n;_n++)tag=tag_list[_n],__indexOf.call(priority_tags,tag)>=0&&__indexOf.call(exclude_tags,tag)<0&&(add_criteria+=1);hangul.test(title)===!0&&(add_criteria+=1),add_criteria>0?priority_songs.push(song):untagged_songs.push(song)}priority_songs.length>0?(priority_songs.sort(function(a,b){var keyA,keyB;return keyA=a.playback_count,keyB=b.playback_count,keyA>keyB?-1:keyB>keyA?1:0}),track=priority_songs[0],artwork=track.artwork_url.replace("-large","-t500x500"),title=track.title,stream_url=track.stream_url,genre=track.genre,tags=track.tag_list):untagged_songs.length>0?(untagged_songs.sort(function(a,b){var keyA,keyB;return keyA=a.playback_count,keyB=b.playback_count,keyA>keyB?-1:keyB>keyA?1:0}),track=untagged_songs[0],artwork=track.artwork_url.replace("-large","-t500x500"),title=track.title,stream_url=track.stream_url):alert("There was a problem!"),$("#player").attr("src",stream_url+"?client_id="+client_id),$("#title").text(title),$("#artwork").attr("src",artwork)}})},$("#next").click(function(){return playRandom()}),$(document).ready(function(){return playRandom()});